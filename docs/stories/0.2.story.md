# Story 0.2: Configure Development Tools (ESLint, Prettier, Husky)

## Status
Draft

## Story
**As a** developer,
**I want** to configure ESLint, Prettier, and Husky,
**so that** code quality, consistency, and pre-commit checks are enforced, leading to a more maintainable codebase.

## Acceptance Criteria
1. **0.2.1:** ESLint is configured with a recommended set of rules for Next.js and React, and is integrated into the development workflow.
2. **0.2.2:** Prettier is configured for automatic code formatting, ensuring consistent style across the project.
3. **0.2.3:** ESLint and Prettier work in conjunction without conflicts.
4. **0.2.4:** Husky (or an equivalent pre-commit hook tool) is installed and configured to run ESLint and Prettier checks before committing code.
5. **0.2.5:** A `.editorconfig` file is present to ensure consistent editor settings.

## Tasks / Subtasks
- [ ] Task 1: Configure ESLint for Next.js and React (AC: 0.2.1)
  - [ ] Install additional ESLint plugins for Next.js and React
  - [ ] Configure `.eslintrc.json` with recommended rules
  - [ ] Add TypeScript-specific ESLint rules
  - [ ] Test ESLint configuration with sample code

- [ ] Task 2: Install and configure Prettier (AC: 0.2.2)
  - [ ] Install Prettier as development dependency
  - [ ] Create `.prettierrc` configuration file
  - [ ] Create `.prettierignore` file for excluded files
  - [ ] Add Prettier scripts to package.json

- [ ] Task 3: Integrate ESLint and Prettier (AC: 0.2.3)
  - [ ] Install `eslint-config-prettier` to disable conflicting rules
  - [ ] Install `eslint-plugin-prettier` for Prettier integration
  - [ ] Update ESLint configuration to work with Prettier
  - [ ] Test integration with sample formatting scenarios

- [ ] Task 4: Setup Husky for pre-commit hooks (AC: 0.2.4)
  - [ ] Install Husky and lint-staged
  - [ ] Initialize Husky in the project
  - [ ] Configure pre-commit hook for ESLint and Prettier
  - [ ] Test pre-commit hooks with intentional code issues

- [ ] Task 5: Create EditorConfig file (AC: 0.2.5)
  - [ ] Create `.editorconfig` file with consistent settings
  - [ ] Configure indentation, line endings, and character encoding
  - [ ] Ensure compatibility with project coding standards
  - [ ] Document editor setup requirements

- [ ] Task 6: Documentation and verification
  - [ ] Update README with development tool information
  - [ ] Create development workflow documentation
  - [ ] Verify all tools work together correctly
  - [ ] Test complete development workflow

## Dev Notes

### Previous Story Insights
- Story 0.1: Established Next.js project with Tailwind CSS
This story builds on that foundation by adding development tools for code quality and consistency.

### Data Models
No specific data models required. This story focuses on development tooling configuration.

### API Specifications
No API specifications required. This is development environment configuration.

### Component Specifications
**Development Tool Configuration Files**:
- `.eslintrc.json`: ESLint rules and configuration
- `.prettierrc`: Prettier formatting rules
- `.prettierignore`: Files to exclude from Prettier
- `.editorconfig`: Editor-agnostic coding style settings
- `.husky/`: Git hooks configuration

### File Locations
Development tool configuration files in project root:
- ESLint config: `.eslintrc.json`
- Prettier config: `.prettierrc`, `.prettierignore`
- Husky config: `.husky/pre-commit`
- Editor config: `.editorconfig`
- Package scripts: `package.json`

### Technical Constraints
**Technology Stack** [Source: docs/architecture.md#development-tools]:
- ESLint 8.56.0 with Next.js and React plugins
- Prettier 3.2.5 for code formatting
- Husky 9.0.10 for Git hooks
- lint-staged 15.2.2 for staged file processing

**ESLint Configuration** [Source: docs/architecture.md#development-tools]:
```json
{
  "extends": [
    "next/core-web-vitals",
    "@typescript-eslint/recommended",
    "prettier"
  ],
  "plugins": ["@typescript-eslint"],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn",
    "prefer-const": "error",
    "no-console": "warn"
  }
}
```

**Prettier Configuration**:
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

**EditorConfig Settings**:
```ini
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true
indent_style = space
indent_size = 2

[*.md]
trim_trailing_whitespace = false
```

### Installation Commands
**ESLint Plugins**:
```bash
npm install -D @typescript-eslint/eslint-plugin @typescript-eslint/parser
```

**Prettier**:
```bash
npm install -D prettier eslint-config-prettier eslint-plugin-prettier
```

**Husky and lint-staged**:
```bash
npm install -D husky lint-staged
npx husky install
npx husky add .husky/pre-commit "npx lint-staged"
```

### Package.json Scripts
**Development Scripts**:
```json
{
  "scripts": {
    "lint": "eslint . --ext .js,.jsx,.ts,.tsx",
    "lint:fix": "eslint . --ext .js,.jsx,.ts,.tsx --fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "prepare": "husky install"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md,css}": [
      "prettier --write"
    ]
  }
}
```

### Pre-commit Hook Configuration
**Husky Pre-commit Hook**:
```bash
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx lint-staged
```

**lint-staged Configuration**:
- Run ESLint with auto-fix on TypeScript/JavaScript files
- Run Prettier on all supported file types
- Only process staged files for efficiency
- Fail commit if linting errors remain

### Testing
**Testing Standards** [Source: docs/architecture.md#development-tools]:
- Manual verification of tool configuration
- Test pre-commit hooks with intentional code issues
- Verify ESLint and Prettier integration
- Test development workflow with tools

**Verification Steps**:
1. **ESLint**: Run `npm run lint` and verify it catches issues
2. **Prettier**: Run `npm run format` and verify code formatting
3. **Integration**: Ensure ESLint and Prettier don't conflict
4. **Husky**: Test pre-commit hook prevents bad commits
5. **EditorConfig**: Verify editor respects configuration

**Test Scenarios**:
- Intentionally add ESLint violations and verify detection
- Add poorly formatted code and verify Prettier fixes it
- Attempt to commit code with linting errors
- Verify pre-commit hooks run automatically
- Test editor configuration with different editors

### Common Issues and Solutions
**Potential Configuration Issues**:
1. **ESLint/Prettier Conflicts**: Use `eslint-config-prettier` to resolve
2. **Husky Not Running**: Ensure `prepare` script runs after install
3. **TypeScript Errors**: Configure `@typescript-eslint` properly
4. **Performance**: Use lint-staged to only check changed files
5. **Editor Integration**: Ensure editor plugins are configured

### Success Criteria
Development tools are properly configured when:
- ✅ ESLint catches code quality issues
- ✅ Prettier formats code consistently
- ✅ ESLint and Prettier work together without conflicts
- ✅ Pre-commit hooks prevent bad code from being committed
- ✅ EditorConfig ensures consistent editor behavior
- ✅ All tools integrate smoothly with development workflow

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-07-22 | 1.0 | Initial story creation | Scrum Master |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*This section will be populated by the QA agent after implementation review*
